= Garbage 정리
:toc:
:toc-title:

== 인테그레이션 잡 정리

파이프라인 구동은 Gitea 또는 Gitlab에서 발생한 이벤트를 받아 인테그레이션 잡에 의해 파이프라인과 파이프라인 런을 생성하여 Job 업무를 처리하게 된다. +
따라서 파이프라인 구동 과정에서 생성된 리소스(파이프라인, 파이프라인 런, 파드 등)를 한번에 삭제하기 위해서는 "인테그레이션 잡"을 삭제해 주어야 한다.

. *인테그레이션 잡 목록 조회* +
"개발자" 콘솔에서 *[CI/CD] > [인테그레이션 잡]* 메뉴를 선택하여 생성된 인테그레이션 잡 목록을 조회한다.

. *인테그레이션 잡 삭제* +
인테그레이션 잡 목록에서 image:../../images/figure_action_icon.png[] 아이콘을 클릭한 후 **[인테그레이션 잡 삭제]**를 선택해서 인테그레이션 잡을 삭제한다.

== 종료된 파드 정리

인테그레이션 잡을 삭제하지 않고 종료된 파드를 수동으로 정리할 수 있다. +
CI/CD를 수행하면 각 단계(태스크)는 하나의 파드 형태로 생성되어 진행되고, 수행이 완료되면 "Completed" 상태로 계속 남아 쌓이게 된다. +
따라서 수행 후 정상적으로 컨테이너가 종료된 상태의 파드는 주기적으로 직접 삭제하거나, "크론 잡" 또는 "스크립트"를 통해 자동 삭제를 진행해야 한다.

. *종료된 파드 목록 조회* +
정상적으로 종료된 파드 목록을 조회한다.
+
image::../../images/figure_clean_up_terminated_pod.png[]
<1> "마스터 클러스터" 콘솔 선택
<2> *[워크로드] > [파드]* 메뉴 클릭
<3> 파이프라인 런을 수행한 네임스페이스를 선택
<4> *[필터]* 클릭
<5> "Succeeded" 선택

. *파드 삭제* +
조회된 각 파드 목록에서 image:../../images/figure_action_icon.png[] 아이콘을 클릭한 후 **[파드 삭제]**를 선택해서 파드를 삭제한다.


== 종료된 파이프라인 런 정리

인테그레이션 잡을 삭제하지 않고 종료된 파이프라인 런을 수동으로 정리할 수 있다. +
CI/CD를 한번 수행할 때마다 "파이프라인 런"이 생성되어 쌓이게 된다. 따라서 정상적으로 수행이 끝난 경우에 생성된 파이프라인 런을 삭제해 주어야 한다.

. *파이프라인 런 목록 조회* +
"개발자" 콘솔에서 *[CI/CD] > [파이프라인 런]* 메뉴를 선택하여 생성된 파이프라인 런 목록을 조회한다.

. *파이프라인 런 삭제* +
조회된 각 파이프라인 런 목록에서 image:../../images/figure_action_icon.png[] 아이콘을 클릭한 후 **[파이프라인 런 삭제]**를 선택해서 파이프라인 런을 삭제한다.

. *인테그레이션 잡 목록 조회* +
"개발자" 콘솔에서 *[CI/CD] > [인테그레이션 잡]* 메뉴를 선택하여 생성된 인테그레이션 잡 목록을 조회한다.

. *인테그레이션 잡 삭제* +
조회된 각 인테그레이션 잡 목록에서 image:../../images/figure_action_icon.png[] 아이콘을 클릭한 후 **[인테그레이션 잡 삭제]**를 선택해서 인테그레이션 잡을 삭제한다.
